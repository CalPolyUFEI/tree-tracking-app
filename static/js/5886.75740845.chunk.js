"use strict";(self.webpackChunkufe_tree_tracking_app=self.webpackChunkufe_tree_tracking_app||[]).push([[5886],{35886:function(t,e,n){n.r(e),n.d(e,{loadGLTFMesh:function(){return Z}});var r=n(37762),o=n(15861),a=n(87757),u=n(51995),c=n(76200),i=n(77427),s=n(92026),l=n(22753),f=n(11873),p=n(71353),m=n(67077),g=n(64995),d=n(53942),v=n(22736),C=n(27474),x=n(25158),h=n(32035),w=n(19093),y=n(17054),b=n(57898),A=n(27053),E=n(55798),T=n(32315),M=n(46962),R=n(68845),S=n(8548),k=n(92770),_=n(69618),B=n(19131);function Z(t,e,n){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)(a.mark((function t(e,n,o){var u,c,i,l,f,p,m,g,d,v,x,h,w,y,T,M,R;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=new A.C(I(o)),t.next=3,(0,E.z)(u,n,o,!0);case 3:c=t.sent.model,i=c.lods.shift(),l=new Map,f=new Map,c.textures.forEach((function(t,e){return l.set(e,P(t))})),c.materials.forEach((function(t,e){return f.set(e,W(t,l))})),p=N(i),m=(0,r.Z)(p.parts);try{for(m.s();!(g=m.n()).done;)d=g.value,D(p,d,f)}catch(a){m.e(a)}finally{m.f()}return v=p.vertexAttributes,x=v.position,h=v.normal,w=v.tangent,y=v.color,T=v.texCoord0,M={position:x.typedBuffer,normal:(0,s.pC)(h)?h.typedBuffer:null,tangent:(0,s.pC)(w)?w.typedBuffer:null,uv:(0,s.pC)(T)?T.typedBuffer:null,color:(0,s.pC)(y)?y.typedBuffer:null},R=(0,b.w1)(M,e,o),t.abrupt("return",{transform:R.transform,components:p.components,spatialReference:e.spatialReference,vertexAttributes:new C.Q({position:R.vertexAttributes.position,normal:R.vertexAttributes.normal,tangent:R.vertexAttributes.tangent,color:M.color,uv:M.uv})});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){return null!=t&&t.resolveFile?{busy:!1,request:function(){var e=(0,o.Z)(a.mark((function e(n,r,o){var u,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.resolveFile(n),i="image"===r?"image":"binary"===r?"array-buffer":"json",e.next=3,(0,c.default)(u,{responseType:i,signal:(0,s.pC)(o)?o.signal:null});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}:null}function L(t,e){if((0,s.Wi)(t))return"-";var n=t.typedBuffer;return"".concat((0,i.s1)(e,n.buffer,(function(){return e.size})),"/").concat(n.byteOffset,"/").concat(n.byteLength)}function N(t){var e,n=0,o={color:!1,tangent:!1,normal:!1,texCoord0:!1},a=new Map,u=new Map,c=[],l=(0,r.Z)(t.parts);try{var f=function(){var t=e.value,r=t.attributes,l=r.position,f=r.normal,p=r.color,m=r.tangent,g=r.texCoord0,d="\n      ".concat(L(l,a),"/\n      ").concat(L(f,a),"/\n      ").concat(L(p,a),"/\n      ").concat(L(m,a),"/\n      ").concat(L(g,a),"/\n      ").concat(function(t){return(0,s.pC)(t)?t.toString():"-"}(t.transform),"\n    "),v=!1,C=(0,i.s1)(u,d,(function(){return v=!0,{start:n,length:l.count}}));v&&(n+=l.count),f&&(o.normal=!0),p&&(o.color=!0),m&&(o.tangent=!0),g&&(o.texCoord0=!0),c.push({gltf:t,writeVertices:v,region:C})};for(l.s();!(e=l.n()).done;)f()}catch(p){l.e(p)}finally{l.f()}return{vertexAttributes:{position:(0,y.gS)(x.fP,n),normal:o.normal?(0,y.gS)(x.ct,n):null,tangent:o.tangent?(0,y.gS)(x.ek,n):null,color:o.color?(0,y.gS)(x.mc,n):null,texCoord0:o.texCoord0?(0,y.gS)(x.Eu,n):null},parts:c,components:[]}}function P(t){return new v.Z({data:t.data,wrap:O(t.parameters.wrap)})}function W(t,e){var n,r=new u.Z(function(t,e){return(0,m.f)(z(t[0]),z(t[1]),z(t[2]),e)}(t.color,t.opacity)),o=t.emissiveFactor?new u.Z((n=t.emissiveFactor,(0,p.f)(z(n[0]),z(n[1]),z(n[2])))):null;return new d.Z({color:r,colorTexture:(0,s.Wg)((0,s.yw)(t.textureColor,(function(t){return e.get(t)}))),normalTexture:(0,s.Wg)((0,s.yw)(t.textureNormal,(function(t){return e.get(t)}))),emissiveColor:o,emissiveTexture:(0,s.Wg)((0,s.yw)(t.textureEmissive,(function(t){return e.get(t)}))),occlusionTexture:(0,s.Wg)((0,s.yw)(t.textureOcclusion,(function(t){return e.get(t)}))),alphaMode:G(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,s.Wg)((0,s.yw)(t.textureMetallicRoughness,(function(t){return e.get(t)})))})}function D(t,e,n){e.writeVertices&&function(t,e){var n=t.vertexAttributes,r=n.position,o=n.normal,a=n.tangent,u=n.color,c=n.texCoord0,i=e.region.start,p=e.gltf,m=p.attributes,g=p.transform,d=m.position.count;if((0,h.t)(r.slice(i,d),m.position,g),(0,s.pC)(m.normal)&&(0,s.pC)(o)){var v=(0,l.a)((0,f.c)(),g);(0,h.a)(o.slice(i,d),m.normal,v)}else(0,s.pC)(o)&&(0,k.f)(o,0,0,1,{dstIndex:i,count:d});if((0,s.pC)(m.tangent)&&(0,s.pC)(a)){var C=(0,l.a)((0,f.c)(),g);(0,w.t)(a.slice(i,d),m.tangent,C)}else(0,s.pC)(a)&&(0,_.f)(a,0,0,1,1,{dstIndex:i,count:d});if((0,s.pC)(m.texCoord0)&&(0,s.pC)(c)?(0,B.n)(c.slice(i,d),m.texCoord0):(0,s.pC)(c)&&(0,B.f)(c,0,0,{dstIndex:i,count:d}),(0,s.pC)(m.color)&&(0,s.pC)(u)){var y=m.color,b=u.slice(i,d);if(4===y.elementCount)y instanceof x.ek?(0,w.s)(b,y,255):y instanceof x.mc?(0,_.c)(b,y):y instanceof x.v6&&(0,w.a)(b,y,8);else{(0,_.f)(b,255,255,255,255);var A=x.ne.fromTypedArray(b.typedBuffer,b.typedBufferStride);y instanceof x.ct?(0,h.s)(A,y,255):y instanceof x.ne?(0,k.c)(A,y):y instanceof x.mw&&(0,h.b)(A,y,8)}}else(0,s.pC)(u)&&(0,_.f)(u.slice(i,d),255,255,255,255)}(t,e);var r=e.gltf,o=function(t,e){switch(e){case S.MX.TRIANGLES:return(0,T.nh)(t,M.DX);case S.MX.TRIANGLE_STRIP:return(0,T.DA)(t);case S.MX.TRIANGLE_FAN:return(0,T.jX)(t)}}(r.indices||r.attributes.position.count,r.primitiveType),a=e.region.start;if(a)for(var u=0;u<o.length;u++)o[u]+=a;t.components.push(new g.Z({faces:o,material:n.get(r.material),trustSourceNormals:!0}))}function G(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function O(t){return{horizontal:X(t.s),vertical:X(t.t)}}function X(t){switch(t){case S.e8.CLAMP_TO_EDGE:return"clamp";case S.e8.MIRRORED_REPEAT:return"mirror";case S.e8.REPEAT:return"repeat"}}function z(t){return 255*Math.pow(t,1/R.K)}}}]);
//# sourceMappingURL=5886.75740845.chunk.js.map